class ThemeToggle{constructor(t={}){this.options={position:t.position||"bottom-right",offset:t.offset||{x:20,y:20},size:t.size||50,darkColor:t.darkColor||"#1a1a1a",lightColor:t.lightColor||"#ffffff",transition:t.transition||"0.3s ease",zIndex:t.zIndex||9999,...t},this.theme=this.getSavedTheme()||"light",this.init()}init(){this.createButton(),this.applyTheme(this.theme),this.attachEventListeners()}createButton(){this.button=document.createElement("button"),this.button.id="theme-toggle-button",this.button.setAttribute("aria-label","ÂàáÊç¢‰∏ªÈ¢ò"),this.button.innerHTML=this.getIcon(this.theme),this.applyButtonStyles(),document.body.appendChild(this.button)}applyButtonStyles(){const{position:t,offset:e,size:i,zIndex:s,transition:o}=this.options,n={position:"fixed",width:`${i}px`,height:`${i}px`,borderRadius:"12px",border:"dark"===this.theme?"2px solid rgba(255, 255, 255, 0.2)":"2px solid rgba(0, 0, 0, 0.1)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:`${.6*i}px`,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",transition:`all ${o}`,zIndex:s,outline:"none",background:"dark"===this.theme?"#2d2d2d":"#f0f0f0",color:"dark"===this.theme?"#f0f0f0":"#2d2d2d"},h=this.getPositionStyles(t,e);Object.assign(this.button.style,n,h)}getPositionStyles(t,e){return{"top-left":{top:`${e.y}px`,left:`${e.x}px`},"top-right":{top:`${e.y}px`,right:`${e.x}px`},"bottom-left":{bottom:`${e.y}px`,left:`${e.x}px`},"bottom-right":{bottom:`${e.y}px`,right:`${e.x}px`},fixed:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}[t]||{bottom:`${e.y}px`,right:`${e.x}px`}}getIcon(t){return"light"===t?"üîÜ":"üåô"}attachEventListeners(){this.button.addEventListener("click",()=>this.toggleTheme()),this.button.addEventListener("mouseenter",()=>{this.button.style.transform="fixed"===this.options.position?"translate(-50%, -50%) scale(1.1)":"scale(1.1)"}),this.button.addEventListener("mouseleave",()=>{this.button.style.transform="fixed"===this.options.position?"translate(-50%, -50%) scale(1)":"scale(1)"})}toggleTheme(){this.theme="light"===this.theme?"dark":"light",this.applyTheme(this.theme),this.saveTheme(this.theme),this.updateButton()}applyTheme(t){const{darkColor:e,lightColor:i}=this.options;"dark"===t?(document.documentElement.style.setProperty("--bg-color",e),document.documentElement.style.setProperty("--text-color",i),document.documentElement.setAttribute("data-theme","dark"),document.body.style.backgroundColor=e,document.body.style.color=i):(document.documentElement.style.setProperty("--bg-color",i),document.documentElement.style.setProperty("--text-color",e),document.documentElement.setAttribute("data-theme","light"),document.body.style.backgroundColor=i,document.body.style.color=e);const s=new CustomEvent("themeChanged",{detail:{theme:t}});document.dispatchEvent(s)}updateButton(){this.button.innerHTML=this.getIcon(this.theme),this.button.style.background="dark"===this.theme?"#2d2d2d":"#f0f0f0",this.button.style.color="dark"===this.theme?"#f0f0f0":"#2d2d2d",this.button.style.border="dark"===this.theme?"2px solid rgba(255, 255, 255, 0.2)":"2px solid rgba(0, 0, 0, 0.1)"}saveTheme(t){try{localStorage.setItem("theme-preference",t)}catch(t){console.warn("Êó†Ê≥ï‰øùÂ≠ò‰∏ªÈ¢òÂÅèÂ•Ω:",t)}}getSavedTheme(){try{return localStorage.getItem("theme-preference")}catch(t){return console.warn("Êó†Ê≥ïËØªÂèñ‰∏ªÈ¢òÂÅèÂ•Ω:",t),null}}updatePosition(t,e){this.options.position=t,e&&(this.options.offset=e);const i=this.getPositionStyles(t,this.options.offset);Object.assign(this.button.style,i)}destroy(){this.button&&this.button.parentNode&&this.button.parentNode.removeChild(this.button)}}"undefined"!=typeof window&&(window.ThemeToggle=ThemeToggle),"undefined"!=typeof module&&module.exports&&(module.exports=ThemeToggle);
